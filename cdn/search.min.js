$(document).ready(function(a){$("ul li").click(function(b){$(this).children("ul").toggle();b.stopPropagation()})});var oldKey="";var index=-1;var pos=new Array();var oldCount=0;function previous(){index--;index=index<0?oldCount-1:index;seek()}function next(){index++;if(index==oldCount){index=0}seek()}function seek(){$(".menu").show();$("#complete").show();$(".result").removeClass("res");var b=$("#key").val();if(!b){console.log("key为空则退出");$(".result").each(function(){$(this).replaceWith($(this).html())});oldKey="";return}if(oldKey!=b){console.log("进入重置方法");index=0;$(".result").each(function(){$(this).replaceWith($(this).html())});pos=new Array();var a=new RegExp(b+"(?!([^<]+)?>)","ig");$("body").html($("body").html().replace(a,"<span id='result"+index+"' class='result'>"+b+"</span>"));$("#key").val(b);oldKey=b;$(".result").each(function(){pos.push($(this).offset().top)});oldCount=$(".result").length;console.log("oldCount值：",oldCount)}$(".result:eq("+index+")").addClass("res");$("body").scrollTop(pos[index]);var c=$(window).scrollTop();$(window).scrollTop(c)}function complete(){window.location.reload()};