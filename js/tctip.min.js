var tctipUtil={createElement:function(d,g,c){var b=document.createElement(g||"div");for(var f in d){"style"==f?b[f].cssText=d[f]:b[f]=d[f]}return(c||document.body).appendChild(b)},createElementHtml:function(d,g,c){var b=document.createElement(g||"div");for(var f in d){"style"==f?b[f].cssText=d[f]:b[f]=d[f]}return(c||document.body).appendChild(b)},getElementsByClassName:function(a,b){return b=b||document,b.getElementsByClassName?b.getElementsByClassName(a):function(g,k){var f,d,j=[],m=k.getElementsByTagName("*"),h=m.length,l=new RegExp("(^|\\s)"+g+"(\\s|$)");for(f=0,d=0;f<h;f++){l.test(m[f].className)&&(j[d]=m[f],d++)}return j}(a,b)},getTextKey:function(){return"firefox"==tctipUtil.getExplorer()?"textContent":"innerText"},getExplorer:function(){var a=window.navigator.userAgent.toLowerCase();return a.indexOf("msie")>=0?"ie":a.indexOf("firefox")>=0?"firefox":a.indexOf("chrome")>=0?"chrome":a.indexOf("opera")>=0?"opera":a.indexOf("safari")>=0?"safari":void 0},addLoadEvent:function(a){if("function"!=typeof window.onload){window.onload=a}else{var b=window.onload;window.onload=function(){b(),a()}}},isSupportCanvas:function(){try{return document.createElement("canvas").getContext("2d"),!0}catch(a){return !1}},isMouseLeaveOrEnter:function(b,c){if(!b){return !1}if("mouseout"!=b.type&&"mouseover"!=b.type&&"click"!=b.type){return !1}for(var a=b.relatedTarget?b.relatedTarget:"mouseout"==b.type?b.toElement:b.fromElement;a&&a!=c;){a=a.parentNode}return a!=c},currentEvent:function(){if(document.all){return window.event}for(func=tctipUtil.currentEvent.caller;null!=func;){var a=func.arguments[0];if(a&&(a.constructor==Event||a.constructor==MouseEvent||"object"==typeof a&&a.preventDefault&&a.stopPropagation)){return a}func=func.caller}return null},mergeArray:function(d,f,c){for(var b in f){(d.hasOwnProperty(b)||c)&&(d[b]=f[b])}return d},animate:function(d,f,c){for(var b in d){f.style[b]=d[b]}}},tctip=window.tctip||{myConfig:{headText:"喜欢请打赏",siderText:"公告 ● 支持",siderTextTop:"-84px",siderBgcolor:"#323d45",siderTop:"10%",buttomText:"储物间备用站",buttomLink:"http://kyon945.ysepan.com/"},myRewards:null,myRewardsBtn:null,myRewardsMain:null,myRewardsbox:null,myRewardsList:null,myRewardsDetail:null,myRewardsListUl:null,myRewardsUbox:null,currentLi:null,currentData:null,generateMyConfig:function(){tctip.myConfig=tctipUtil.mergeArray(tctip.myConfig,tctipConfig);var d=[],g=0,c=!1;for(var b in tctipConfig.list){var f=tctipConfig.list[b];if("myR-on"==f.className&&(c=!0),d.push(f),g+=1,g>=5){break}}0==c&&(d[0].className="myR-on"),tctip.myConfig.list=d},generateMyRewards:function(){this.myRewards=tctipUtil.createElement({id:"myRewards",className:"myRewards",style:"top:"+this.myConfig.siderTop+";"}),this.generateLeftBtn(),this.generateMyRewardsMain()},generateLeftBtn:function(){var a={className:"btn-myRewards",href:"javascript:;"};a.style="margin-top:"+tctip.myConfig.siderTextTop+";",a.onmouseover=function(){tctip.showTctip(this)},this.myRewardsBtn=tctipUtil.createElement(a,"a",this.myRewards);a={className:"sider-text"};a.style="background-color:"+tctip.myConfig.siderBgcolor,a[tctipUtil.getTextKey()]=tctip.myConfig.siderText,tctipUtil.createElement(a,"p",this.myRewardsBtn)},showTctip:function(a){var b=tctipUtil.currentEvent();tctipUtil.isMouseLeaveOrEnter(b,a)&&(tctipUtil.animate({width:"240px"},tctip.myRewards,200),tctipUtil.animate({display:"none"},tctip.myRewardsBtn,200))},hideTctip:function(a){var b=tctipUtil.currentEvent();tctipUtil.isMouseLeaveOrEnter(b,a)&&(tctipUtil.animate({width:"0px"},tctip.myRewards,200),tctipUtil.animate({display:"block"},tctip.myRewardsBtn,200))},generateMyRewardsMain:function(){this.myRewardsMain=tctipUtil.createElement({className:"myRewards-main",onmouseout:function(){tctip.hideTctip(this)}},"div",this.myRewards);var b=this.myRewardsMain,c={className:"sider-close",title:"收起",onclick:function(){tctip.hideTctip(b)}};c[tctipUtil.getTextKey()]=">>",c.href="javascript:;",tctipUtil.createElement(c,"a",this.myRewardsMain);c={className:"myR-h"};c[tctipUtil.getTextKey()]=tctip.myConfig.headText,tctipUtil.createElement(c,"h1",this.myRewardsMain),this.generateMyRewardsbox();var a=tctipUtil.createElement({className:"myR-bot"},"p",this.myRewardsMain);c={href:tctip.myConfig.buttomLink||"http://kyon945.ysepan.com/",target:"_blank"},c[tctipUtil.getTextKey()]=tctip.myConfig.buttomText||"储物间备用站",tctipUtil.createElement(c,"a",a)},generateMyRewardsbox:function(){this.myRewardsbox=tctipUtil.createElement({className:"myRewardsbox"},"div",this.myRewardsMain),this.generateMyRewardsList(),this.generateMyRewardsDetail()},generateMyRewardsList:function(){this.myRewardsList=tctipUtil.createElement({className:"myRewards-list"},"div",this.myRewardsbox),tctip.myConfig.list.length>=5?this.myRewardsListUl=tctipUtil.createElement({},"ul",this.myRewardsList):this.myRewardsListUl=tctipUtil.createElement({className:"not-full"},"ul",this.myRewardsList);for(var d=0;d<5&&tctip.myConfig.list.hasOwnProperty(d);d++){var f=tctip.myConfig.list[d],c=tctipUtil.createElement({className:f.className},"li",this.myRewardsListUl),b=null;(function(){var a=f,e={onmouseover:function(){tctip.leftMouseover(this,a)}};e[tctipUtil.getTextKey()]=f.name,4==d&&(e.className="fifth"),b=tctipUtil.createElement(e,"a",c)})(),"myR-on"==f.className&&(this.currentLi=c,this.currentData=f),tctipUtil.createElement({className:"png",src:f.icon,alt:f.name},"img",b)}},generateMyRewardsDetail:function(){tctip.myRewardsDetail&&tctip.myRewardsbox.removeChild(tctip.myRewardsDetail),this.myRewardsDetail=tctipUtil.createElement({className:"myRewards-detail"},"div",this.myRewardsbox),this.myRewardsUbox=tctipUtil.createElement({className:"myRewards-ubox"},"div",this.myRewardsDetail);var a={className:"myRewards-code-tit"};if(tctip.currentData.hasOwnProperty("text")){var b=tctipUtil.createElement({className:"myRewards-notice"},"div",this.myRewardsUbox);a={className:"myRewards-text"},a.innerHTML=tctip.currentData.text||tctip.currentData.desc||tctip.currentData.name;tctipUtil.createElement(a,"p",b)}else{a[tctipUtil.getTextKey()]="扫描二维码支持阿虚",tctipUtil.createElement(a,"p",this.myRewardsUbox);b=tctipUtil.createElement({className:"myRewards-code"},"div",this.myRewardsUbox);if(tctip.currentData.hasOwnProperty("qrimg")){tctipUtil.createElement({src:tctip.currentData.qrimg},"img",b),a={className:"myRewards-account"},a[tctipUtil.getTextKey()]=tctip.currentData.desc||tctip.currentData.name;tctipUtil.createElement(a,"p",this.myRewardsUbox)}}},leftMouseover:function(a,b){tctip.currentLi.className="",a.parentNode.className="myR-on",tctip.currentLi=a.parentNode,tctip.currentData=b,tctip.generateMyRewardsDetail()},init:function(){document.body?(tctip.generateMyConfig(),tctip.generateMyRewards()):setTimeout(tctip.init,0)}};tctip.init();
